---
title: Реализация модуля подготовки отчетов
author: matthidinger
ms.author: mahiding
ms.date: 09/15/2017
ms.topic: article
ms.openlocfilehash: 3c79d768d5c979626b66614a1856ad6c2e390805
ms.sourcegitcommit: 99c7b64d6fc66da336c454951406fb42cd2a7427
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/12/2019
ms.locfileid: "59552556"
---
# <a name="adaptive-card-renderer-specification"></a>Инструмент Adaptive Cards спецификации модуля подготовки отчетов

В следующей спецификации описываются как реализовать инструмент Adaptive Cards модуля подготовки отчетов на любой платформе пользовательского интерфейса.

> [!IMPORTANT]
> 
> Это содержимое еще не завершена. Повторите попытку позже.

## <a name="sdk-versioning"></a>Управление версиями пакетов SDK

1. Пакет SDK для основной и вспомогательной версии **следует** соответствует `schema` версии. 
1. Patch/build **следует** использоваться для обновления модуля подготовки отчетов, у которых нет изменений схемы.

## <a name="parsing-json"></a>Синтаксический анализ JSON

### <a name="error-conditions"></a>Условия ошибок
1. Средство синтаксического анализа **необходимо** проверьте, что это допустимое содержимое JSON
1. Средство синтаксического анализа **необходимо** проверку на соответствие схеме (обязательные свойства, и т.д.)
1. Ошибок, упомянутых выше **необходимо** будут передаваться ведущее приложение (исключение или эквивалент)

### <a name="unknown-types"></a>Неизвестные типы
1. При обнаружении неизвестного «типы» они **должны УДАЛЯТЬСЯ** из результата
1. Любых изменений в полезных данных (как и выше) **следует** поступать предупреждения для узла приложения

### <a name="unknown-properties"></a>Неизвестные свойства
1. Средство синтаксического анализа **необходимо** включают **дополнительных** свойства элементов

### <a name="additional-considerations"></a>Дополнительные рекомендации
1. `speak` Свойство может содержать разметку SSML и **необходимо** возвращаться к приложению узла, как заданному

## <a name="parsing-host-config"></a>Синтаксический анализ конфигурации узла
1. Список действий

## <a name="versioning"></a>Управление версиями

1. Модуль подготовки отчетов **необходимо** реализации определенной версии схемы. 
1. `AdaptiveCard` Конструктор **необходимо** предоставить `version` свойство, значение по умолчанию, основанное на текущей версии схемы 
1. Если модуль подготовки отчетов обнаруживает `version` свойства в `AdaptiveCard` , больше, чем поддерживаемая версия, его **необходимо** возвращают `fallbackText` вместо этого.

## <a name="rendering"></a>Подготовка к просмотру

`AdaptiveCard` Состоит из `body` и `actions`. `body` — Это коллекция `CardElement`, там будет перечислять и отображаются в порядке. 

1. Каждый элемент **необходимо** stretch на ширину его родительского элемента (представить `display: block` в формате HTML).
1. Модуль подготовки отчетов **необходимо** игнорировать неизвестный элемент типы и продолжения обработки остальной части полезных данных.

### <a name="spacing-and-separators"></a>Интервал и разделители

1. `spacing` Свойство для каждого элемента влияет на объем пространства между **текущей** элемент и элемент управления **до** его.
1. Интервал между **необходимо только** применялись при появлении фактически элемент предшествует ей. (Например, нельзя применить к первому элементу в массиве)
1. Модуль подготовки отчетов **необходимо** поиск пространства из `hostConfig` пробелы для перечисления значение, применяемое для текущего элемента.
1. Если элемент имеет `separator` значение `true`, затем видимой строки **необходимо** рисоваться между текущего элемента и до его.
1. Разделительной линии **необходимо** быть нарисован с использованием `container.style.default.foregroundColor`.
1. Разделитель **необходимо только** рисуется, если элемент **IS NOT** в массиве первыми.

### <a name="columns"></a>Столбцы

1. `Column` `width` **НЕОБХОДИМО** интерпретироваться по «auto», «stretch» или взвешенных отношение.

### <a name="textblock"></a>TextBlock

1. TextBlock **необходимо** занимают одну строку, если `wrap` свойство `true`. 
1. Текстовый блок **следует** все лишние текст с многоточием (...)

#### <a name="markdown"></a>Markdown

1. Разрешить адаптивной карты для подмножества Markdown и **следует** будут поддерживаться в `TextBlock`. 
1. См. полный [требования markdown](../authoring-cards/text-features.md)

#### <a name="formatting-functions"></a>Функции форматирования

1. `TextBlock` позволяет [функций форматирования даты и времени](../authoring-cards/text-features.md) , **необходимо** поддерживаться на каждый модуль подготовки отчетов.
1. **ВСЕ СБОИ необходимо** отображения необработанную строку в карточке. Понятное сообщение попытки. (Целью для информировании разработчика немедленно существует проблема связана с)

1. TODO: Включить регулярных выражений

### <a name="images"></a>Изображений

1. Модуль подготовки отчетов **следует** позволяют размещать приложения знать, когда были загружены все образы HTTP, и она «полностью rendererd»
1. Модуль подготовки отчетов **необходимо** проверить файл конфигурации узла `maxImageSize` param при загрузке по протоколу HTTP изображений
1. Модуль подготовки отчетов **необходимо** поддержки `.png` и `.jpeg`
1. Модуль подготовки отчетов **следует** поддержки `.gif` образов

### <a name="host-config"></a>Конфигурации узла

* TODO: Какой должна быть значения по умолчанию? Должны ли они все имеют его? Общий файл hostConfig.json следует внедрить в двоичные файлы?
* TODO: Я думаю, что HostConfig должен быть с версией, а также для анализа?

[`HostConfig`](host-config.md) является объектом общей конфигурации, который указывает, как адаптивной модуля подготовки отчетов карты создает пользовательский Интерфейс.  

Благодаря этому свойства, которые зависят от платформы для использования несколькими модулями подготовки отчетов на разных платформах и устройствах. Он также позволяет набор инструментов, чтобы создать, который дает представление о внешнего вида и поведения в карточке, будет иметь для данной среды.

1. Модули подготовки отчетов **необходимо** предоставлять **Host Config** параметр для размещения приложений
1. Все элементы **необходимо** применить различные стили в соответствии с их соответствующие параметры конфигурации узла

### <a name="native-platform-styling"></a>Стилизация собственной платформы

1. Каждый тип элемента **следует** присоединить стиля собственной платформы с помощью созданного элемента пользовательского интерфейса. Например в формате HTML, мы добавили класс CSS в типы элементов, а в XAML нам назначить определенный стиль.

## <a name="extensibility"></a>Расширение среды 

1. Модуль подготовки отчетов **необходимо** позволяют размещать приложения в переопределите модулей подготовки отчетов по умолчанию элемент. Например, замените `TextBlock` отрисовка с помощью собственную логику.
1. Модуль подготовки отчетов **необходимо** позволяют размещать приложения зарегистрировать типы настраиваемых элементов. Например, добавить поддержку для пользовательской `Rating` элемент
1. Модуль подготовки отчетов **необходимо** позволяют размещать приложения удалить поддержку элемент по умолчанию. Например, удалите `Action.Submit` по желанию не поддерживается.

## <a name="actions"></a>Действия

1. Если HostConfig `supportsInteractivity` — `false`, модуль подготовки отчетов **не должна** отрисовки каких-либо действий.
1. `actions` Свойство **необходимо** отображены в виде кнопок в панели действий, обычно в нижней части карты какого-либо рода. 
1. При нажатии кнопки его **необходимо** разрешить ведущее приложение для обработки события. 
1. Событие **необходимо** pass вместе все связанные свойства с действием
1. Событие **необходимо** передавать `AdaptiveCard` которого была выполнена

Действие | Поведение
--- | ---
**Action.OpenUrl** | Открыть внешний URL-адрес для просмотра
**Action.ShowCard** | Запрашивает вложенных карту для отображения пользователю.
**Action.Submit** | Задайте для всех элементов ввода необходимо собирать в объект, который затем отправляется пользователю через определенные ведущим приложением.

### <a name="actionopenurl"></a>Action.OpenUrl
1. `Action.OpenUrl` **СЛЕДУЕТ** откройте URL-адрес, с помощью механизма собственной платформы
1. Если вы не сможете настроить его **необходимо** вызывают событие, чтобы ведущее приложение для обработки, открыв URL-адрес. Это событие **необходимо** разрешить приложению узла переопределить поведение по умолчанию. Например сообщите им, откройте URL-адрес в собственные приложения.

### <a name="actionshowcard"></a>Action.ShowCard

1. `Action.ShowCard` **НЕОБХОДИМО** поддерживаться определенным образом, на основе параметра hostConfig. Существует два режима: встроенные и всплывающее окно. Встроенные карты **следует** переключения видимости карты автоматически. В режиме всплывающее окно, событие **следует** вызывать их срабатывание ведущее приложение для отображения карты каким-либо образом.

### <a name="actionsubmit"></a>Action.Submit

Отправить действие ведет себя как отправку формы HTML, за исключением того, что где HTML обычно запускает запрос HTTP post, адаптивной карты остается до каждого узла приложения, чтобы определить, что «submit» означает, что к ним. 

1. При этом **необходимо** порождения события пользователь касается invokved действие.  
1. `data` Свойство **необходимо** включаться в полезных данных обратного вызова.
1. Для `Action.Submit`, модуль подготовки отчетов **необходимо** сбор всех входных данных на карте и извлечь их значения. 

### <a name="selectaction"></a>selectAction

1. Если конфигурация узла `supportedInteractivity` — `false` то `selectAction` **не должна** отображаются в виде цель касания.
1. `Image`, `ColumnSet`, и `Column` предлагают `selectAction` свойства, который **следует** выполняться при вызове пользователем, например, коснувшись элемента.

## <a name="inputs"></a>Ввод данных

1. Если HostConfig `supportsInteractivity` — `false` там **не должна** отрисовки никаких входных данных.
2. Входные данные **следует** визуализация с помощью наивысшего качества возможных. Например `Input.Date` в идеале предлагало управляющий элемент выбора даты в отношении пользователя, но если это невозможно в стеке пользовательского интерфейса, то модуль подготовки отчетов **необходимо** откат подготовки отчетов к просмотру обычное текстовое поле.
3. Модуль подготовки отчетов **следует** отображения `placeholderText` по возможности
4. Модуль подготовки отчетов **не** , придется реализовать проверку входных данных. Адаптивная карт необходимо планировать для проверки любых полученных данных с их стороны.
5. Входная привязка значение **необходимо** должным образом экранировать

6. Объект **необходимо** возвращаться в приложение узла следующим образом:

   Мы не даем любой обещания проверки входных данных в адаптивной карт, поэтому ответственность за сторона, для правильного синтаксического анализа ответа. Например Input.Number может вернуть «hello», и они должны быть разработаны для этого.


## <a name="events"></a>События

1. Модуль подготовки отчетов **следует** инициировать событие при изменении видимости элемента, что позволяет приложению узла для прокрутки карточки в позицию.
